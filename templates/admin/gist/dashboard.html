{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Kiosk | Dashboard</title>

    <link href="{% static 'admin/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'admin/font-awesome/css/font-awesome.css' %}" rel="stylesheet">
    <link href="{% static 'admin/css/animate.css' %}" rel="stylesheet">
    <link href="{% static 'admin/css/style.css' %}" rel="stylesheet">

</head>

<body>
<div id="wrapper">
    <nav class="navbar-default navbar-static-side" role="navigation">
        <div class="sidebar-collapse">
            <ul class="nav metismenu" id="side-menu">
                <li class="active">
                    <a href="{% url 'gist:admin-dashboard' %}">
                        <i class="fa fa-th-large"></i>
                        <span class="nav-label">Dashboard</span>
                    </a>
                </li>

                <li class="">
                    <a href="index.html"><i class="fa fa-diamond"></i> <span class="nav-label">Dashboards</span> <span
                            class="fa arrow"></span></a>
                    <ul class="nav nav-second-level">
                        <li class=""><a href="index.html">Dashboard v.1</a></li>
                        <li><a href="dashboard_2.html">Dashboard v.2</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>

    <div id="page-wrapper" class="gray-bg dashbard-1">
        <div class="row border-bottom">
            <nav class="navbar navbar-static-top" role="navigation" style="margin-bottom: 0">
                <div class="navbar-header">
                    <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#">
                        <i class="fa fa-bars"></i>
                    </a>
                </div>
                <ul class="nav navbar-top-links navbar-right">
                    <li style="padding: 20px">
                        <span class="m-r-sm text-muted welcome-message">Welcome to INSPINIA+ Admin Theme.</span>
                    </li>

                    <li class="nav-item dropdown dropdown-animate" data-toggle="hover">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false">{{ request.user.get_full_name }}
                            <span class="fa fa-angle-down"></span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg dropdown-menu-arrow p-0">
                            <div class="dropdown-menu-links rounded-bottom delimiter-top p-1">
                                <ul class="pl-0">
                                    <li>
                                        <a href="docs/getting-started/installation.html" class="dropdown-item">Installation</a>
                                    </li>
                                    <li>
                                        <a href="docs/getting-started/installation.html" class="dropdown-item">Installation</a>
                                    </li>
                                    <li>
                                        <a href="docs/getting-started/installation.html" class="dropdown-item">Installation</a>
                                    </li>
                                    <li>
                                        <a href="login.html">
                                            <i class="fa fa-sign-out"></i> Log out
                                        </a>
                                    </li>
                                </ul>

                            </div>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>

        <div class="row wrapper border-bottom white-bg page-heading">
            <div class="col-lg-10">
                <h2>Basic Form</h2>
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="index.html">Home</a>
                    </li>
                    <li class="breadcrumb-item">
                        <a>Forms</a>
                    </li>
                    <li class="breadcrumb-item active">
                        <strong>Basic Form</strong>
                    </li>
                </ol>
            </div>
            <div class="col-lg-2">

            </div>
        </div>

        <div class="wrapper wrapper-content">
            <div class="row">
                <div class="col-lg-12">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>New data for the report</h5> <span class="label label-primary">IN+</span>
                                </div>
                                <div class="ibox-content">
                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias, deserunt dolorem,
                                    ea eaque eligendi explicabo facilis, id illo in labore molestiae necessitatibus non
                                    odio quasi quo quod repellat veniam voluptas!
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="footer">
            <div class="float-right">
                <script type="text/javascript">
                    let req = new XMLHttpRequest();
                    req.open('HEAD', document.location, false);
                    req.send(null);
                    let headers = req.getAllResponseHeaders();

                    headers = headers.split(/\n|\r|\r\n/g).reduce(function (a, b) {
                        if (b.length) {
                            var [key, value] = b.split(': ');
                            a[key] = value;
                        }
                        return a;
                    }, {});
                </script>

                <span id="request_time_consume"></span>
            </div>
            <div>
                <strong>Kiosk</strong> &copy; {% now 'Y' %}
            </div>
        </div>
    </div>
</div>

<!-- Mainly scripts -->
<script src="{% static 'admin/js/jquery-3.4.1.min.js' %}"></script>
<script src="{% static 'admin/js/popper.min.js' %}"></script>
<script src="{% static 'admin/js/bootstrap.js' %}"></script>
<script src="{% static 'admin/js/plugins/metisMenu/jquery.metisMenu.js' %}"></script>
<script src="{% static 'admin/js/plugins/slimscroll/jquery.slimscroll.min.js' %}"></script>

<!-- Custom and plugin javascript -->
<script src="{% static 'admin/js/inspinia.js' %}"></script>
<script src="{% static 'admin/js/plugins/pace/pace.min.js' %}"></script>

<!-- jQuery UI -->
<script src="{% static 'admin/js/plugins/jquery-ui/jquery-ui.min.js' %}"></script>

<script>
    $(function () {
        let total_time = headers['x-total-time'];
        let python_time = headers['x-python-time'];
        let db_queries = headers['x-db-queries'];
        let db_time = headers['x-db-time'];
        let response_text = "<strong>Total response: </strong> " + total_time + ' ms';
        response_text += " - <strong>Python time: </strong> " + python_time + ' ms';
        response_text += " - <strong>Total queries: </strong> " + db_queries;
        response_text += " - <strong>Query time: </strong>" + db_time + ' ms';
        $('#request_time_consume').html(response_text);
    });
</script>

</body>
</html>
